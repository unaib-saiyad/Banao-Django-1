<!doctype html>
<html lang="en">
{% load static %}
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Register</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
    <h1 class="text-center my-2 p-2">Register Form</h1>
    <div class="container">

        <form class="row g-3" method="post" action="{% url 'myApp:register' %}" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="col-md-6">
                <label for="first_name" class="form-label">Fist Name</label>
                <input type="text" name="first_name" class="form-control" id="first_name" required>
            </div>
            <div class="col-md-6">
                <label for="last_name" class="form-label">Last Name</label>
                <input type="text" name="last_name" class="form-control" id="last_name" required>
            </div>
            <div class="col-md-6">
                <label for="username" class="form-label">Username</label>
                <input type="text" name="username" class="form-control" id="username" required>
            </div>
            <div class="col-md-6">
                <label for="email" class="form-label">Email</label>
                <input type="email" name="email" class="form-control" id="email" required>
            </div>
            <div class="col-md-6">
                <label for="password" class="form-label">Password</label>
                <input type="password" name="password" class="form-control" id="password" required>
            </div>
            <div class="col-md-6">
                <label for="password2" class="form-label">Confirm Password</label>
                <input type="password" class="form-control" id="password2" required>  
                <span id="password-match-message" style="color: red;">Passwords should match.</span>

            </div>
            <div class="col-12">
                <label for="address" class="form-label">Address</label>
                <input type="text" name="address" class="form-control" id="address" placeholder="1234 Main St" required>
            </div>
            <div class="col-md-4">
                <label for="inputState" class="form-label">Type</label>
                <select id="inputState" name="type" class="form-select">
                    <option value="Doctor" selected>Doctor</option>
                    <option value="Patient">Patient</option>
                </select>
            </div>
            <div class="input-group mb-3">
                <label class="input-group-text" for="profile">Profile</label>
                <input type="file" class="form-control" name="profile" id="profile" accept="image/*">
            </div>
            <div class="col-12">
                <button type="submit" class="btn btn-primary">Sign in</button>
            </div>
        </form>
        <a class="my-2 p-2" href="{% url 'myApp:login' %}">Login</a>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
        $(document).ready(function() {
          const $password1 = $("#password");
          const $password2 = $("#password2");
          const $submitButton = $("button[type='submit']");
          const $passwordMatchMessage = $("#password-match-message");
          
          // Function to check if passwords match
          function checkPasswordMatch() {
              const password1Value = $password1.val();
              const password2Value = $password2.val();
              console.log(password1Value, password2Value)
        
            if (password1Value === password2Value) {
              $submitButton.prop("disabled", false);
              $passwordMatchMessage.text("Passwords match.").css("color", "green");
            } else {
              $submitButton.prop("disabled", true);
              $passwordMatchMessage.text("Passwords should match.").css("color", "red");
            }
          }
        
          // Attach event handlers
          $password1.on("input", checkPasswordMatch);
          $password2.on("input", checkPasswordMatch);
        
          // Prevent form submission (for demonstration purposes)
          $("#password-form").on("submit", function(event) {
            event.preventDefault();
            alert("Form submitted!");
          });
        });
        </script>
        
</body>

</html>